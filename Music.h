/*
*	Music.h
*
*	Created: 2018-06-26 오전 6:36:52
*	Author: Cakeng (PARK JONG SEOK)
*
*	NO LICENCE INCLUDED
*	Contact cakeng@naver.com to
*	use, modify, or share the software for any purpose.
*
*/

#ifndef MUSIC_CAKENG_H
#define MUSIC_CAKENG_H
#include <avr/io.h>
#include <avr/pgmspace.h>



class MusicObj
{
	private:

	bool onFlag;
	uint16_t sheetLength;
	volatile uint16_t musicPosition;
	volatile uint16_t musicTime;
	uint16_t musicTimeConst;
	uint16_t noteBox[12]; //Used Set of max values of ICR
	volatile uint16_t musicTicks;

	void dataRead(uint16_t data);

	public:
	bool isOn()
	{
		return onFlag;
	}
	void musicOn()
	{
		onFlag = true;
		musicPosition = 0;
		musicTime = 0;
		musicTicks = 0;
	}
	void musicOff();

	void musicDown();

	void musicOut();

	MusicObj(uint16_t tickFreq);

	void musicFunction();
	
	void autoRoutine();
};

const PROGMEM uint16_t sheet0[] = {
	0
	,0b0000100100000000,0b0000100100000111,0b0000010100010111,0b0010010100011111,0b0001000011011000,0b0000100011011111,0b0000010011110111,0b0000100011110111,0b0000100011100111,
	0b0001010011100111,0b0001000100000000,0b0000100100000111,0b0000010100011111,0b0011001100010111,0b0000001100000000,0b0000100100000111,0b0000010100010111,0b0000110100011111,0b0000100011100111,
	0b0000100100011111,0b0000100101000110,0b0001000101111111,0b0000100011110000,0b0000100011110111,0b0000100100111111,0b0000100100101111,0b0000100100111111,0b0000010101010111,0b0001010100101111,
	0b0000100011110000,0b0000010011110111,0b0000010011110111,0b0000100100000111,0b0000010100011111,0b0000100100011111,0b0000010100000111,0b0001100011110111,0b0000100100011000,0b0000010100011111,
	0b0000010100101111,0b0000100100111111,0b0000100100101111,0b0000100100111111,0b0000010101100111,0b0000100101010111,0b0000110100111111,0b0000100100111000,0b0000010100111111,0b0000010100111111,
	0b0000100101000111,0b0000010100111111,0b0000100100101111,0b0000010100011111,0b0000010100111111,0b0001010100101111,0b0000100011110000,0b0000100011110111,0b0000100100111111,0b0000100100101111,
	0b0000100100111111,0b0000010101010111,0b0001010100101111,0b0000100011110000,0b0000010011110111,0b0000010011110111,0b0000100100000111,0b0000010100011111,0b0000100100011111,0b0000011100000111,
	0b0000001011110000,0b0001010011110111,0b0000100100011000,0b0000010100011111,0b0000010100101111,0b0000100100111111,0b0000100100101111,0b0000100100111111,0b0000010101100111,0b0000100101010111,
	0b0000110100111111,0b0000100100111000,0b0000010100111111,0b0000010100111111,0b0000100101000111,0b0000010100111111,0b0000100100101111,0b0000010100011111,0b0001100100011111,0b0000010001011111,
	0b0000010010010111,0b0000010010111111,0b0000010011011111,0b0001000011100111,0b0000100100000111,0b0000100100011111,0b0010000101010111,0b0000100101000000,0b0000100101000111,0b0000100100111111,

	0b0000100100101111,0b0000100100101111,0b0000100100011111,0b0000100100010111,0b0001001100011111,0b0000011100000000,0b0000100100000111,0b0000100100011111,0b0001000101010111,0b0000100101100000,
	0b0000010101100111,0b0000110101010111,0b0000010101000111,0b0000100100111111,0b0000010100101111,0b0010100100111111,0b0001000100000000,0b0000100100000111,0b0000100100000111,0b0001000101100111,
	0b0000100101110000,0b0000100101110111,0b0000100101111111,0b0000100101110111,0b0000100101100111,0b0000010101001111,0b0001010101010111,0b0000100101100000,0b0000100101100111,0b0000100101101111,
	0b0000100101100111,0b0000100101010111,0b0000100101000111,0b0000100100111111,0b0000010100011111,0b0001110100011111,0b0000100100000000,0b0000100100000111,0b0000100100011111,0b0001010101100111,
	0b0000010101011111,0b0000010101100111,0b0001000101110111,0b0000010100111000,0b0000100100111111,0b0000100100111111,0b0000100101111111,0b0000100101110111,0b0000100101111111,0b0000010101110111,
	0b0000110101111111,0b0000100101110111,0b0000100101100111,0b0000100101010111,0b0000100101100111,0b0000010110011111,0b0001010110011111,0b0000010101110000,0b0000100101110111,0b0000010101111111,
	0b0000011110001111,0b0000011101110111,0b0000010101100111,0b0000100101100111,0b0000010101010111,0b0001010101010111,0b0001000100111000,0b0000011100111111,0b0000011101000111,0b0000010101010111,
	0b0000100101010111,0b0000100101000111,0b0000100101000111,0b0000010101100111,0b0000100101010111,0b0000010100111111,0b0000010100101111,0b0000101100011111,0b0000001100000000,0b0000010100000111,
	0b0000010100011111,0b0000100101010111,0b0000100101000111,0b0000100101000111,0b0000010101100111,0b0000110101100111,0b0000100101011111,0b0000100101100111,0b0000100101110111,0b0000100101111111,
	0b0000100101110111,0b0000100101111111,0b0000010101110111,0b0000110101111111,0b0000100101110111,0b0000100101100111,0b0000100101010111,0b0000100101100111,0b0000010110011111,0b0001010110011111,

	0b0000010101110000,0b0000100101110111,0b0000010101111111,0b0000011110001111,0b0000011101110111,0b0000010101100111,0b0000100101100111,0b0000100101010111,0b0000100101010111,0b0000010110001111,
	0b0000111101111111,0b0000011100111000,0b0000011100111111,0b0000011101000111,0b0000010101010111,0b0000100101010111,0b0000100101000111,0b0000100101000111,0b0000100101010111,0b0000111100111111,
	0b0000001100101000,0b0000100100101111,0b0000010100011111,0b0000010100011111,0b0000010101010111,0b0000010100011111,0b0000010100101111,0b0000010100011111,0b0000010100111111,0b0000010011110111,
	0b0000010100011111,0b0000010100101111,0b0000010100111111,0b0000010100011111,0b0000010100111111,0b0000110101000111,0b0000100100011111,0b0000100101100111,0b0000100101100111,0b0000100101100111,
	0b0000010101111111,0b0000110101110111,0b0000010101111111,0b0000110110001111,0b0000010101110111,0b0000110101010111,0b0000100101010111,0b0000100100111111,0b0000010101010111,0b0001010101100111,
	0b0000100100111000,0b0000100100111111,0b0000100101000111,0b0000100100111111,0b0000100100011111,0b0000010100101111,0b0000110101000111,0b0000100100111111,0b0000100100101111,0b0000100100011111,
	0b0000100100101111,0b0000010100011111,0b0000100100101111,0b0000010101010111,0b0001001100111111,0b0000011100011000,0b0000100100011111,0b0000100100011111,0b0000100101100111,0b0000010101100111,
	0b0000110101100111,0b0000100101111111,0b0000100101110111,0b0000010101111111,0b0000110110001111,0b0000100101110111,0b0000100101010111,0b0000010101010111,0b0000100110001111,0b0000010101110111,
	0b0001010101111111,0b0000010101100000,0b0000100101100111,0b0000100101110111,0b0000100101111111,0b0000010101111111,0b0000100101111111,0b0000010101110111,0b0000110101111111,0b0000010101100000,
	0b0000100101100111,0b0000100101110111,0b0000100101111111,0b0000001101111111,0b0000011101111000,0b0000001101111111,0b0000011101111000,0b0000001101111111,0b0000011101111000,0b0000001101111111,

	0b0000011110001000,0b0000001110001111,0b0000011110001000,0b0000001110001111,0b0000011110001000,0b0000001110001111,0b0000011110001000,0b0000001110001111,0b0000011100010000,0b0000010100010111,
	0b0000010101001111,0b0000010101100111,0b0000010101001111,0b0000010101110111,0b0000010101100111,0b0000010101111111,0b0000010110001111,0b0000110110100111,0b0000010100111000,0b0000100100111111,
	0b0000100100111111,0b0000100101111111,0b0000100101110111,0b0000100101111111,0b0000010101110111,0b0000110101111111,0b0000100101110111,0b0000100101100111,0b0000100101010111,0b0000100101100111,
	0b0000010110011111,0b0001010110011111,0b0000010101110000,0b0000100101110111,0b0000010101111111,0b0000011110001111,0b0000011101110111,0b0000010101100111,0b0000100101100111,0b0000010101010111,
	0b0001010101010111,0b0001000100111000,0b0000011100111111,0b0000011101000111,0b0000010101010111,0b0000100101010111,0b0000100101000111,0b0000100101000111,0b0000010101100111,0b0000100101010111,
	0b0000010100111111,0b0000010100101111,0b0000101100011111,0b0000001100000000,0b0000010100000111,0b0000010100011111,0b0000100101010111,0b0000100101000111,0b0000100101000111,0b0000010101100111,
	0b0000110101100111,0b0000100101011111,0b0000100101100111,0b0000100101110111,0b0000100101111111,0b0000100101110111,0b0000100101111111,0b0000010101110111,0b0000101101111111,0b0000001101110000,
	0b0000100101110111,0b0000100101100111,0b0000100101010111,0b0000100101100111,0b0000010110011111,0b0001010110011111,0b0000010101110000,0b0000100101110111,0b0000010101111111,0b0000011110001111,
	0b0000011101110111,0b0000010101100111,0b0000100101100111,0b0000010101010111,0b0001010101010111,0b0001000100111000,0b0000011100111111,0b0000011101000111,0b0000010101010111,0b0000100101010111,
	0b0000100101000111,0b0000100101000111,0b0000010101100111,0b0000100101010111,0b0000010100111111,0b0000010100101111,0b0000101100011111,0b0000001100000000,0b0000010100000111,0b0000010100011111,

	0b0000100101010111,0b0000100101000111,0b0000100101000111,0b0000010101100111,0b0000110101100111,0b0000100101011111,0b0000100101100111,0b0000100101110111,0b0000100101111111,0b0000100101110111,
	0b0000100101111111,0b0000010101110111,0b0000101101111111,0b0000001101110000,0b0000100101110111,0b0000100101100111,0b0000100101010111,0b0000100101100111,0b0000010110011111,0b0001010110011111,
	0b0000010101110000,0b0000100101110111,0b0000010101111111,0b0000011110001111,0b0000011101110111,0b0000010101100111,0b0000100101100111,0b0000100101010111,0b0000100101010111,0b0000010110001111,
	0b0000111101111111,0b0000011100111000,0b0000011100111111,0b0000011101000111,0b0000010101010111,0b0000100101010111,0b0000100101000111,0b0000100101000111,0b0000010101100111,0b0000100101010111,
	0b0000010100011111,0b0000111100011111,0b0000001100000000,0b0000010100000111,0b0000010100011111,0b0000100101010111,0b0000100101000111,0b0000100101000111,0b0000010101100111,0b0000100101010111,
	0b0000010101111111,0b0000111101111111,0b0000001100011000,0b0000010100011111,0b0000010100101111,0b0000101101000111,0b0000001100111000,0b0000100100111111,0b0000001101000000,0b0000100101000111,
	0b0000011101010111,0b0001001100111111,0b0000001100101000,0b0100000100101111,0b0001000100011000,0b0000100100011111,0b0000010100010111,0b0011010100011111,0b0000100011011111,0b0000010011110111,
	0b0000100011110111,0b0000100011100111,0b0001010011100111,0b0001000100011111,0b0000100100000111,0b0000010100011111,0b0000110100010111,0b0000010010010111,0b0000010010110111,0b0000010011001111,
	0b0000010011110111,0b0001000100101111,0b0000100100000000,0b0000100100000111,0b0000010100010111,0b0000110100011111,0b0000100010111111,0b0000001011100000,0b0000100011100111,0b0000100011110111,
	0b0000001100011000,0b0000100100011111,0b0000001101000000,0b0000101101000111,0b0000111101010111,0b0000001101111000,0b0000111101111110,0b0000100101010000,0b0011100101010111,0b0000001100111000,

	0b0010000100111111,0b1110000100111100
	,0
};

#endif
